-- TRUNCATE

CREATE TABLE PORTS(
    PORT_ID NUMBER,
    PORT_NAME VARCHAR2(20),
    COUNTRY VARCHAR2(40),
    CAPACITY NUMBER,
    CONSTRAINT PORT_PK PRIMARY KEY(PORT_ID)
);
CREATE TABLE SHIPS(
    SHIP_ID NUMBER,
    SHIP_NAME VARCHAR2(20),
    HOME_PORT_ID NUMBER,
    CONSTRAINT SHIPS_PORT_FK FOREIGN KEY(HOME_PORT_ID)
        REFERENCES PORTS(PORT_ID)
);
INSERT INTO PORTS(PORT_ID)VALUES(1);
INSERT INTO SHIPS(SHIP_ID, HOME_PORT_ID)VALUES(1,1);
SELECT * FROM SHIPS;
TRUNCATE TABLE PORTS; ORA-02266: chaves exclusiva/primária na tabela referenciadas por chaves externas ativadas

ALTER TABLE SHIPS DROP CONSTRAINT SHIPS_PORT_FK; 
ALTER TABLE SHIPS MODIFY HOME_PORT_ID REFERENCES PORTS(PORT_ID) ON DELETE CASCADE;
TRUNCATE TABLE PORTS; ORA-02266: chaves exclusiva/primária na tabela referenciadas por chaves externas ativadas

TRUNCATE TABLE PORTS CASCADE;

ALTER TABLE SHIPS DROP CONSTRAINT SHIPS_PORT_FK; 
ALTER TABLE SHIPS MODIFY HOME_PORT_ID REFERENCES PORTS(PORT_ID) ON DELETE set null;
TRUNCATE TABLE PORTS CASCADE; --ORA-14705: chaves exclusiva ou primária na tabela referenciadas por chaves externas ativadas na tabela "ANGELOLMORACLE"."SHIPS"

-- INSERT

create table cruises (
    CRUISE_ID NUMBER NOT NULL,
    CRUISE_TYPE_ID NUMBER,
    CRUISE_NAME VARCHAR2(20),
    CAPTAIN_ID NUMBER NOT NULL,
    START_DATE DATE,
    END_DATE DATE,
    STATUS VARCHAR2(20)
);


DESC CRUISES;

INSERT INTO CRUISES
(CRUISE_ID, CRUISE_TYPE_ID, CRUISE_NAME, CAPTAIN_ID, START_DATE, END_DATE, STATUS)
VALUES
(1, 1, 'Day at Sea', 101, '02-jan-10', '09-jan-10', 'Sched');

-- Enumerated Column List
insert into cruises
(cruise_id, cruise_name, status, captain_id, start_date, end_date)
values
(2, 'Bermuda and Back', 'Done', 101, '07-FEV-08', '14-FEV-08');

-- Data type conversion
insert into cruises
(cruise_id, captain_id)
values
(2, '101');

select sysdate from dual;

select * From cruises;
